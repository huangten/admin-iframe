{"version":3,"sources":["../../node_modules/exif-js/exif.js","js/index.js"],"names":["http","fileImg","window","pd","baseUrl","requireUrl","deBug","test","isOss","oss","local","allImg","png_6","require","png_b_xian","png_back","png_bofang","jpg_chunse","png_close","png_down","png_go2018","png_logo","png_page1_pic","png_page6_button","png_page7_cxsc","png_page7_mrsc","png_page7_qrsc","png_photo","png_re_photo","png_scmxp","jpg_simple","png_tishi","jpg_white","jpg_zwzz","jpg_code","png_sbCode","png_cnSave","jpg_mxb_bg","png_2018","png_2018_text","png_fileimg_bg","loadImg","Object","values","swiper","png_2002_small","png_2002","png_2004_small","png_2004","png_2006_small","png_2006","png_2008_small","png_2008","png_2010_small","png_2010","png_2012_small","png_2012","png_2014_small","png_2014","png_2016_small","png_2016","mxpBg","banner","text","images","pic","picSmall1","picSmall","mxPic","year","vm","vue","Vue","el","data","page","active","mxData","name","scButton","index","nickname","headimgurl","re_photo1","re_photo","moren_pic","control","scPic","yearText","canShow","initCanvas","tishiShow","token","app","computed","num","_num","map","item","created","loading","m","that","localforage","getItem","then","e","$","ajax","type","url","headers","Authorization","Accept","dataType","success","avatar_oss","error","err","catch","methods","i","timer","setInterval","clearInterval","hide","show","changeImg","files","target","orientation","file","destroy","remove","layer","open","content","shadeClose","reader","FileReader","compression","PIXI","Application","forceCanvas","onload","result","createSprite","_sprite","width","height","renderer","autoResize","resize","anchor","set","rotation","Math","PI","position","stage","addChild","setTimeout","_url","view","toDataURL","closeAll","_pixiCanvas","readAsDataURL","value","backgroundColor","append","interactive","on","event","dragging","start","dragPoint","getLocalPosition","parent","x","y","touchs","originalEvent","changedTouches","length","_start","pageX","pageY","_now","__scale","abs","toFixed","scale","newPosition","_scale","tobase64","vuetouch","s","animate","marginTop","page2Show","page3Show","page6Show","page7Show","document","getElementById","pause","backPage2","backPage3","backPage4","backPage6","val","backPage7","showLight","generateMx","Promise","res","rej","_spriter","Sprite","fromImage","texture","baseTexture","hasLoaded","getCanvas","_czc","push","_loading","pixiRender","removeChildren","_box","Container","textSample","Text","fontSize","fill","align","console","log","url1","attr","Texture","close","page5Show","getDistance","p1","p2","sqrt","getAngle","atan2","moren","bofang","video","play","addEventListener","addClass","removeClass"],"mappings":"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","file":"js.6d81a17d.map","sourceRoot":"..\\src\\bauma-china","sourcesContent":["(function() {\n\n    var debug = false;\n\n    var root = this;\n\n    var EXIF = function(obj) {\n        if (obj instanceof EXIF) return obj;\n        if (!(this instanceof EXIF)) return new EXIF(obj);\n        this.EXIFwrapped = obj;\n    };\n\n    if (typeof exports !== 'undefined') {\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = EXIF;\n        }\n        exports.EXIF = EXIF;\n    } else {\n        root.EXIF = EXIF;\n    }\n\n    var ExifTags = EXIF.Tags = {\n\n        // version tags\n        0x9000 : \"ExifVersion\",             // EXIF version\n        0xA000 : \"FlashpixVersion\",         // Flashpix format version\n\n        // colorspace tags\n        0xA001 : \"ColorSpace\",              // Color space information tag\n\n        // image configuration\n        0xA002 : \"PixelXDimension\",         // Valid width of meaningful image\n        0xA003 : \"PixelYDimension\",         // Valid height of meaningful image\n        0x9101 : \"ComponentsConfiguration\", // Information about channels\n        0x9102 : \"CompressedBitsPerPixel\",  // Compressed bits per pixel\n\n        // user information\n        0x927C : \"MakerNote\",               // Any desired information written by the manufacturer\n        0x9286 : \"UserComment\",             // Comments by user\n\n        // related file\n        0xA004 : \"RelatedSoundFile\",        // Name of related sound file\n\n        // date and time\n        0x9003 : \"DateTimeOriginal\",        // Date and time when the original image was generated\n        0x9004 : \"DateTimeDigitized\",       // Date and time when the image was stored digitally\n        0x9290 : \"SubsecTime\",              // Fractions of seconds for DateTime\n        0x9291 : \"SubsecTimeOriginal\",      // Fractions of seconds for DateTimeOriginal\n        0x9292 : \"SubsecTimeDigitized\",     // Fractions of seconds for DateTimeDigitized\n\n        // picture-taking conditions\n        0x829A : \"ExposureTime\",            // Exposure time (in seconds)\n        0x829D : \"FNumber\",                 // F number\n        0x8822 : \"ExposureProgram\",         // Exposure program\n        0x8824 : \"SpectralSensitivity\",     // Spectral sensitivity\n        0x8827 : \"ISOSpeedRatings\",         // ISO speed rating\n        0x8828 : \"OECF\",                    // Optoelectric conversion factor\n        0x9201 : \"ShutterSpeedValue\",       // Shutter speed\n        0x9202 : \"ApertureValue\",           // Lens aperture\n        0x9203 : \"BrightnessValue\",         // Value of brightness\n        0x9204 : \"ExposureBias\",            // Exposure bias\n        0x9205 : \"MaxApertureValue\",        // Smallest F number of lens\n        0x9206 : \"SubjectDistance\",         // Distance to subject in meters\n        0x9207 : \"MeteringMode\",            // Metering mode\n        0x9208 : \"LightSource\",             // Kind of light source\n        0x9209 : \"Flash\",                   // Flash status\n        0x9214 : \"SubjectArea\",             // Location and area of main subject\n        0x920A : \"FocalLength\",             // Focal length of the lens in mm\n        0xA20B : \"FlashEnergy\",             // Strobe energy in BCPS\n        0xA20C : \"SpatialFrequencyResponse\",    //\n        0xA20E : \"FocalPlaneXResolution\",   // Number of pixels in width direction per FocalPlaneResolutionUnit\n        0xA20F : \"FocalPlaneYResolution\",   // Number of pixels in height direction per FocalPlaneResolutionUnit\n        0xA210 : \"FocalPlaneResolutionUnit\",    // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n        0xA214 : \"SubjectLocation\",         // Location of subject in image\n        0xA215 : \"ExposureIndex\",           // Exposure index selected on camera\n        0xA217 : \"SensingMethod\",           // Image sensor type\n        0xA300 : \"FileSource\",              // Image source (3 == DSC)\n        0xA301 : \"SceneType\",               // Scene type (1 == directly photographed)\n        0xA302 : \"CFAPattern\",              // Color filter array geometric pattern\n        0xA401 : \"CustomRendered\",          // Special processing\n        0xA402 : \"ExposureMode\",            // Exposure mode\n        0xA403 : \"WhiteBalance\",            // 1 = auto white balance, 2 = manual\n        0xA404 : \"DigitalZoomRation\",       // Digital zoom ratio\n        0xA405 : \"FocalLengthIn35mmFilm\",   // Equivalent foacl length assuming 35mm film camera (in mm)\n        0xA406 : \"SceneCaptureType\",        // Type of scene\n        0xA407 : \"GainControl\",             // Degree of overall image gain adjustment\n        0xA408 : \"Contrast\",                // Direction of contrast processing applied by camera\n        0xA409 : \"Saturation\",              // Direction of saturation processing applied by camera\n        0xA40A : \"Sharpness\",               // Direction of sharpness processing applied by camera\n        0xA40B : \"DeviceSettingDescription\",    //\n        0xA40C : \"SubjectDistanceRange\",    // Distance to subject\n\n        // other tags\n        0xA005 : \"InteroperabilityIFDPointer\",\n        0xA420 : \"ImageUniqueID\"            // Identifier assigned uniquely to each image\n    };\n\n    var TiffTags = EXIF.TiffTags = {\n        0x0100 : \"ImageWidth\",\n        0x0101 : \"ImageHeight\",\n        0x8769 : \"ExifIFDPointer\",\n        0x8825 : \"GPSInfoIFDPointer\",\n        0xA005 : \"InteroperabilityIFDPointer\",\n        0x0102 : \"BitsPerSample\",\n        0x0103 : \"Compression\",\n        0x0106 : \"PhotometricInterpretation\",\n        0x0112 : \"Orientation\",\n        0x0115 : \"SamplesPerPixel\",\n        0x011C : \"PlanarConfiguration\",\n        0x0212 : \"YCbCrSubSampling\",\n        0x0213 : \"YCbCrPositioning\",\n        0x011A : \"XResolution\",\n        0x011B : \"YResolution\",\n        0x0128 : \"ResolutionUnit\",\n        0x0111 : \"StripOffsets\",\n        0x0116 : \"RowsPerStrip\",\n        0x0117 : \"StripByteCounts\",\n        0x0201 : \"JPEGInterchangeFormat\",\n        0x0202 : \"JPEGInterchangeFormatLength\",\n        0x012D : \"TransferFunction\",\n        0x013E : \"WhitePoint\",\n        0x013F : \"PrimaryChromaticities\",\n        0x0211 : \"YCbCrCoefficients\",\n        0x0214 : \"ReferenceBlackWhite\",\n        0x0132 : \"DateTime\",\n        0x010E : \"ImageDescription\",\n        0x010F : \"Make\",\n        0x0110 : \"Model\",\n        0x0131 : \"Software\",\n        0x013B : \"Artist\",\n        0x8298 : \"Copyright\"\n    };\n\n    var GPSTags = EXIF.GPSTags = {\n        0x0000 : \"GPSVersionID\",\n        0x0001 : \"GPSLatitudeRef\",\n        0x0002 : \"GPSLatitude\",\n        0x0003 : \"GPSLongitudeRef\",\n        0x0004 : \"GPSLongitude\",\n        0x0005 : \"GPSAltitudeRef\",\n        0x0006 : \"GPSAltitude\",\n        0x0007 : \"GPSTimeStamp\",\n        0x0008 : \"GPSSatellites\",\n        0x0009 : \"GPSStatus\",\n        0x000A : \"GPSMeasureMode\",\n        0x000B : \"GPSDOP\",\n        0x000C : \"GPSSpeedRef\",\n        0x000D : \"GPSSpeed\",\n        0x000E : \"GPSTrackRef\",\n        0x000F : \"GPSTrack\",\n        0x0010 : \"GPSImgDirectionRef\",\n        0x0011 : \"GPSImgDirection\",\n        0x0012 : \"GPSMapDatum\",\n        0x0013 : \"GPSDestLatitudeRef\",\n        0x0014 : \"GPSDestLatitude\",\n        0x0015 : \"GPSDestLongitudeRef\",\n        0x0016 : \"GPSDestLongitude\",\n        0x0017 : \"GPSDestBearingRef\",\n        0x0018 : \"GPSDestBearing\",\n        0x0019 : \"GPSDestDistanceRef\",\n        0x001A : \"GPSDestDistance\",\n        0x001B : \"GPSProcessingMethod\",\n        0x001C : \"GPSAreaInformation\",\n        0x001D : \"GPSDateStamp\",\n        0x001E : \"GPSDifferential\"\n    };\n\n     // EXIF 2.3 Spec\n    var IFD1Tags = EXIF.IFD1Tags = {\n        0x0100: \"ImageWidth\",\n        0x0101: \"ImageHeight\",\n        0x0102: \"BitsPerSample\",\n        0x0103: \"Compression\",\n        0x0106: \"PhotometricInterpretation\",\n        0x0111: \"StripOffsets\",\n        0x0112: \"Orientation\",\n        0x0115: \"SamplesPerPixel\",\n        0x0116: \"RowsPerStrip\",\n        0x0117: \"StripByteCounts\",\n        0x011A: \"XResolution\",\n        0x011B: \"YResolution\",\n        0x011C: \"PlanarConfiguration\",\n        0x0128: \"ResolutionUnit\",\n        0x0201: \"JpegIFOffset\",    // When image format is JPEG, this value show offset to JPEG data stored.(aka \"ThumbnailOffset\" or \"JPEGInterchangeFormat\")\n        0x0202: \"JpegIFByteCount\", // When image format is JPEG, this value shows data size of JPEG image (aka \"ThumbnailLength\" or \"JPEGInterchangeFormatLength\")\n        0x0211: \"YCbCrCoefficients\",\n        0x0212: \"YCbCrSubSampling\",\n        0x0213: \"YCbCrPositioning\",\n        0x0214: \"ReferenceBlackWhite\"\n    };\n\n    var StringValues = EXIF.StringValues = {\n        ExposureProgram : {\n            0 : \"Not defined\",\n            1 : \"Manual\",\n            2 : \"Normal program\",\n            3 : \"Aperture priority\",\n            4 : \"Shutter priority\",\n            5 : \"Creative program\",\n            6 : \"Action program\",\n            7 : \"Portrait mode\",\n            8 : \"Landscape mode\"\n        },\n        MeteringMode : {\n            0 : \"Unknown\",\n            1 : \"Average\",\n            2 : \"CenterWeightedAverage\",\n            3 : \"Spot\",\n            4 : \"MultiSpot\",\n            5 : \"Pattern\",\n            6 : \"Partial\",\n            255 : \"Other\"\n        },\n        LightSource : {\n            0 : \"Unknown\",\n            1 : \"Daylight\",\n            2 : \"Fluorescent\",\n            3 : \"Tungsten (incandescent light)\",\n            4 : \"Flash\",\n            9 : \"Fine weather\",\n            10 : \"Cloudy weather\",\n            11 : \"Shade\",\n            12 : \"Daylight fluorescent (D 5700 - 7100K)\",\n            13 : \"Day white fluorescent (N 4600 - 5400K)\",\n            14 : \"Cool white fluorescent (W 3900 - 4500K)\",\n            15 : \"White fluorescent (WW 3200 - 3700K)\",\n            17 : \"Standard light A\",\n            18 : \"Standard light B\",\n            19 : \"Standard light C\",\n            20 : \"D55\",\n            21 : \"D65\",\n            22 : \"D75\",\n            23 : \"D50\",\n            24 : \"ISO studio tungsten\",\n            255 : \"Other\"\n        },\n        Flash : {\n            0x0000 : \"Flash did not fire\",\n            0x0001 : \"Flash fired\",\n            0x0005 : \"Strobe return light not detected\",\n            0x0007 : \"Strobe return light detected\",\n            0x0009 : \"Flash fired, compulsory flash mode\",\n            0x000D : \"Flash fired, compulsory flash mode, return light not detected\",\n            0x000F : \"Flash fired, compulsory flash mode, return light detected\",\n            0x0010 : \"Flash did not fire, compulsory flash mode\",\n            0x0018 : \"Flash did not fire, auto mode\",\n            0x0019 : \"Flash fired, auto mode\",\n            0x001D : \"Flash fired, auto mode, return light not detected\",\n            0x001F : \"Flash fired, auto mode, return light detected\",\n            0x0020 : \"No flash function\",\n            0x0041 : \"Flash fired, red-eye reduction mode\",\n            0x0045 : \"Flash fired, red-eye reduction mode, return light not detected\",\n            0x0047 : \"Flash fired, red-eye reduction mode, return light detected\",\n            0x0049 : \"Flash fired, compulsory flash mode, red-eye reduction mode\",\n            0x004D : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",\n            0x004F : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",\n            0x0059 : \"Flash fired, auto mode, red-eye reduction mode\",\n            0x005D : \"Flash fired, auto mode, return light not detected, red-eye reduction mode\",\n            0x005F : \"Flash fired, auto mode, return light detected, red-eye reduction mode\"\n        },\n        SensingMethod : {\n            1 : \"Not defined\",\n            2 : \"One-chip color area sensor\",\n            3 : \"Two-chip color area sensor\",\n            4 : \"Three-chip color area sensor\",\n            5 : \"Color sequential area sensor\",\n            7 : \"Trilinear sensor\",\n            8 : \"Color sequential linear sensor\"\n        },\n        SceneCaptureType : {\n            0 : \"Standard\",\n            1 : \"Landscape\",\n            2 : \"Portrait\",\n            3 : \"Night scene\"\n        },\n        SceneType : {\n            1 : \"Directly photographed\"\n        },\n        CustomRendered : {\n            0 : \"Normal process\",\n            1 : \"Custom process\"\n        },\n        WhiteBalance : {\n            0 : \"Auto white balance\",\n            1 : \"Manual white balance\"\n        },\n        GainControl : {\n            0 : \"None\",\n            1 : \"Low gain up\",\n            2 : \"High gain up\",\n            3 : \"Low gain down\",\n            4 : \"High gain down\"\n        },\n        Contrast : {\n            0 : \"Normal\",\n            1 : \"Soft\",\n            2 : \"Hard\"\n        },\n        Saturation : {\n            0 : \"Normal\",\n            1 : \"Low saturation\",\n            2 : \"High saturation\"\n        },\n        Sharpness : {\n            0 : \"Normal\",\n            1 : \"Soft\",\n            2 : \"Hard\"\n        },\n        SubjectDistanceRange : {\n            0 : \"Unknown\",\n            1 : \"Macro\",\n            2 : \"Close view\",\n            3 : \"Distant view\"\n        },\n        FileSource : {\n            3 : \"DSC\"\n        },\n\n        Components : {\n            0 : \"\",\n            1 : \"Y\",\n            2 : \"Cb\",\n            3 : \"Cr\",\n            4 : \"R\",\n            5 : \"G\",\n            6 : \"B\"\n        }\n    };\n\n    function addEvent(element, event, handler) {\n        if (element.addEventListener) {\n            element.addEventListener(event, handler, false);\n        } else if (element.attachEvent) {\n            element.attachEvent(\"on\" + event, handler);\n        }\n    }\n\n    function imageHasData(img) {\n        return !!(img.exifdata);\n    }\n\n\n    function base64ToArrayBuffer(base64, contentType) {\n        contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || ''; // e.g. 'data:image/jpeg;base64,...' => 'image/jpeg'\n        base64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n        var binary = atob(base64);\n        var len = binary.length;\n        var buffer = new ArrayBuffer(len);\n        var view = new Uint8Array(buffer);\n        for (var i = 0; i < len; i++) {\n            view[i] = binary.charCodeAt(i);\n        }\n        return buffer;\n    }\n\n    function objectURLToBlob(url, callback) {\n        var http = new XMLHttpRequest();\n        http.open(\"GET\", url, true);\n        http.responseType = \"blob\";\n        http.onload = function(e) {\n            if (this.status == 200 || this.status === 0) {\n                callback(this.response);\n            }\n        };\n        http.send();\n    }\n\n    function getImageData(img, callback) {\n        function handleBinaryFile(binFile) {\n            var data = findEXIFinJPEG(binFile);\n            img.exifdata = data || {};\n            var iptcdata = findIPTCinJPEG(binFile);\n            img.iptcdata = iptcdata || {};\n            if (EXIF.isXmpEnabled) {\n               var xmpdata= findXMPinJPEG(binFile);\n               img.xmpdata = xmpdata || {};               \n            }\n            if (callback) {\n                callback.call(img);\n            }\n        }\n\n        if (img.src) {\n            if (/^data\\:/i.test(img.src)) { // Data URI\n                var arrayBuffer = base64ToArrayBuffer(img.src);\n                handleBinaryFile(arrayBuffer);\n\n            } else if (/^blob\\:/i.test(img.src)) { // Object URL\n                var fileReader = new FileReader();\n                fileReader.onload = function(e) {\n                    handleBinaryFile(e.target.result);\n                };\n                objectURLToBlob(img.src, function (blob) {\n                    fileReader.readAsArrayBuffer(blob);\n                });\n            } else {\n                var http = new XMLHttpRequest();\n                http.onload = function() {\n                    if (this.status == 200 || this.status === 0) {\n                        handleBinaryFile(http.response);\n                    } else {\n                        throw \"Could not load image\";\n                    }\n                    http = null;\n                };\n                http.open(\"GET\", img.src, true);\n                http.responseType = \"arraybuffer\";\n                http.send(null);\n            }\n        } else if (self.FileReader && (img instanceof self.Blob || img instanceof self.File)) {\n            var fileReader = new FileReader();\n            fileReader.onload = function(e) {\n                if (debug) console.log(\"Got file of length \" + e.target.result.byteLength);\n                handleBinaryFile(e.target.result);\n            };\n\n            fileReader.readAsArrayBuffer(img);\n        }\n    }\n\n    function findEXIFinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength,\n            marker;\n\n        while (offset < length) {\n            if (dataView.getUint8(offset) != 0xFF) {\n                if (debug) console.log(\"Not a valid marker at offset \" + offset + \", found: \" + dataView.getUint8(offset));\n                return false; // not a valid marker, something is wrong\n            }\n\n            marker = dataView.getUint8(offset + 1);\n            if (debug) console.log(marker);\n\n            // we could implement handling for other markers here,\n            // but we're only looking for 0xFFE1 for EXIF data\n\n            if (marker == 225) {\n                if (debug) console.log(\"Found 0xFFE1 marker\");\n\n                return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2);\n\n                // offset += 2 + file.getShortAt(offset+2, true);\n\n            } else {\n                offset += 2 + dataView.getUint16(offset+2);\n            }\n\n        }\n\n    }\n\n    function findIPTCinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength;\n\n\n        var isFieldSegmentStart = function(dataView, offset){\n            return (\n                dataView.getUint8(offset) === 0x38 &&\n                dataView.getUint8(offset+1) === 0x42 &&\n                dataView.getUint8(offset+2) === 0x49 &&\n                dataView.getUint8(offset+3) === 0x4D &&\n                dataView.getUint8(offset+4) === 0x04 &&\n                dataView.getUint8(offset+5) === 0x04\n            );\n        };\n\n        while (offset < length) {\n\n            if ( isFieldSegmentStart(dataView, offset )){\n\n                // Get the length of the name header (which is padded to an even number of bytes)\n                var nameHeaderLength = dataView.getUint8(offset+7);\n                if(nameHeaderLength % 2 !== 0) nameHeaderLength += 1;\n                // Check for pre photoshop 6 format\n                if(nameHeaderLength === 0) {\n                    // Always 4\n                    nameHeaderLength = 4;\n                }\n\n                var startOffset = offset + 8 + nameHeaderLength;\n                var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n\n                return readIPTCData(file, startOffset, sectionLength);\n\n                break;\n\n            }\n\n\n            // Not the marker, continue searching\n            offset++;\n\n        }\n\n    }\n    var IptcFieldMap = {\n        0x78 : 'caption',\n        0x6E : 'credit',\n        0x19 : 'keywords',\n        0x37 : 'dateCreated',\n        0x50 : 'byline',\n        0x55 : 'bylineTitle',\n        0x7A : 'captionWriter',\n        0x69 : 'headline',\n        0x74 : 'copyright',\n        0x0F : 'category'\n    };\n    function readIPTCData(file, startOffset, sectionLength){\n        var dataView = new DataView(file);\n        var data = {};\n        var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n        var segmentStartPos = startOffset;\n        while(segmentStartPos < startOffset+sectionLength) {\n            if(dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos+1) === 0x02){\n                segmentType = dataView.getUint8(segmentStartPos+2);\n                if(segmentType in IptcFieldMap) {\n                    dataSize = dataView.getInt16(segmentStartPos+3);\n                    segmentSize = dataSize + 5;\n                    fieldName = IptcFieldMap[segmentType];\n                    fieldValue = getStringFromDB(dataView, segmentStartPos+5, dataSize);\n                    // Check if we already stored a value with this name\n                    if(data.hasOwnProperty(fieldName)) {\n                        // Value already stored with this name, create multivalue field\n                        if(data[fieldName] instanceof Array) {\n                            data[fieldName].push(fieldValue);\n                        }\n                        else {\n                            data[fieldName] = [data[fieldName], fieldValue];\n                        }\n                    }\n                    else {\n                        data[fieldName] = fieldValue;\n                    }\n                }\n\n            }\n            segmentStartPos++;\n        }\n        return data;\n    }\n\n\n\n    function readTags(file, tiffStart, dirStart, strings, bigEnd) {\n        var entries = file.getUint16(dirStart, !bigEnd),\n            tags = {},\n            entryOffset, tag,\n            i;\n\n        for (i=0;i<entries;i++) {\n            entryOffset = dirStart + i*12 + 2;\n            tag = strings[file.getUint16(entryOffset, !bigEnd)];\n            if (!tag && debug) console.log(\"Unknown tag: \" + file.getUint16(entryOffset, !bigEnd));\n            tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n        }\n        return tags;\n    }\n\n\n    function readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\n        var type = file.getUint16(entryOffset+2, !bigEnd),\n            numValues = file.getUint32(entryOffset+4, !bigEnd),\n            valueOffset = file.getUint32(entryOffset+8, !bigEnd) + tiffStart,\n            offset,\n            vals, val, n,\n            numerator, denominator;\n\n        switch (type) {\n            case 1: // byte, 8-bit unsigned int\n            case 7: // undefined, 8-bit byte, value depending on field\n                if (numValues == 1) {\n                    return file.getUint8(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint8(offset + n);\n                    }\n                    return vals;\n                }\n\n            case 2: // ascii, 8-bit byte\n                offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                return getStringFromDB(file, offset, numValues-1);\n\n            case 3: // short, 16 bit int\n                if (numValues == 1) {\n                    return file.getUint16(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 2 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint16(offset + 2*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 4: // long, 32 bit int\n                if (numValues == 1) {\n                    return file.getUint32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 5:    // rational = two long values, first is numerator, second is denominator\n                if (numValues == 1) {\n                    numerator = file.getUint32(valueOffset, !bigEnd);\n                    denominator = file.getUint32(valueOffset+4, !bigEnd);\n                    val = new Number(numerator / denominator);\n                    val.numerator = numerator;\n                    val.denominator = denominator;\n                    return val;\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        numerator = file.getUint32(valueOffset + 8*n, !bigEnd);\n                        denominator = file.getUint32(valueOffset+4 + 8*n, !bigEnd);\n                        vals[n] = new Number(numerator / denominator);\n                        vals[n].numerator = numerator;\n                        vals[n].denominator = denominator;\n                    }\n                    return vals;\n                }\n\n            case 9: // slong, 32 bit signed int\n                if (numValues == 1) {\n                    return file.getInt32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 10: // signed rational, two slongs, first is numerator, second is denominator\n                if (numValues == 1) {\n                    return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset+4, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 8*n, !bigEnd) / file.getInt32(valueOffset+4 + 8*n, !bigEnd);\n                    }\n                    return vals;\n                }\n        }\n    }\n\n    /**\n    * Given an IFD (Image File Directory) start offset\n    * returns an offset to next IFD or 0 if it's the last IFD.\n    */\n    function getNextIFDOffset(dataView, dirStart, bigEnd){\n        //the first 2bytes means the number of directory entries contains in this IFD\n        var entries = dataView.getUint16(dirStart, !bigEnd);\n\n        // After last directory entry, there is a 4bytes of data,\n        // it means an offset to next IFD.\n        // If its value is '0x00000000', it means this is the last IFD and there is no linked IFD.\n\n        return dataView.getUint32(dirStart + 2 + entries * 12, !bigEnd); // each entry is 12 bytes long\n    }\n\n    function readThumbnailImage(dataView, tiffStart, firstIFDOffset, bigEnd){\n        // get the IFD1 offset\n        var IFD1OffsetPointer = getNextIFDOffset(dataView, tiffStart+firstIFDOffset, bigEnd);\n\n        if (!IFD1OffsetPointer) {\n            // console.log('******** IFD1Offset is empty, image thumb not found ********');\n            return {};\n        }\n        else if (IFD1OffsetPointer > dataView.byteLength) { // this should not happen\n            // console.log('******** IFD1Offset is outside the bounds of the DataView ********');\n            return {};\n        }\n        // console.log('*******  thumbnail IFD offset (IFD1) is: %s', IFD1OffsetPointer);\n\n        var thumbTags = readTags(dataView, tiffStart, tiffStart + IFD1OffsetPointer, IFD1Tags, bigEnd)\n\n        // EXIF 2.3 specification for JPEG format thumbnail\n\n        // If the value of Compression(0x0103) Tag in IFD1 is '6', thumbnail image format is JPEG.\n        // Most of Exif image uses JPEG format for thumbnail. In that case, you can get offset of thumbnail\n        // by JpegIFOffset(0x0201) Tag in IFD1, size of thumbnail by JpegIFByteCount(0x0202) Tag.\n        // Data format is ordinary JPEG format, starts from 0xFFD8 and ends by 0xFFD9. It seems that\n        // JPEG format and 160x120pixels of size are recommended thumbnail format for Exif2.1 or later.\n\n        if (thumbTags['Compression']) {\n            // console.log('Thumbnail image found!');\n\n            switch (thumbTags['Compression']) {\n                case 6:\n                    // console.log('Thumbnail image format is JPEG');\n                    if (thumbTags.JpegIFOffset && thumbTags.JpegIFByteCount) {\n                    // extract the thumbnail\n                        var tOffset = tiffStart + thumbTags.JpegIFOffset;\n                        var tLength = thumbTags.JpegIFByteCount;\n                        thumbTags['blob'] = new Blob([new Uint8Array(dataView.buffer, tOffset, tLength)], {\n                            type: 'image/jpeg'\n                        });\n                    }\n                break;\n\n            case 1:\n                console.log(\"Thumbnail image format is TIFF, which is not implemented.\");\n                break;\n            default:\n                console.log(\"Unknown thumbnail image format '%s'\", thumbTags['Compression']);\n            }\n        }\n        else if (thumbTags['PhotometricInterpretation'] == 2) {\n            console.log(\"Thumbnail image format is RGB, which is not implemented.\");\n        }\n        return thumbTags;\n    }\n\n    function getStringFromDB(buffer, start, length) {\n        var outstr = \"\";\n        for (n = start; n < start+length; n++) {\n            outstr += String.fromCharCode(buffer.getUint8(n));\n        }\n        return outstr;\n    }\n\n    function readEXIFData(file, start) {\n        if (getStringFromDB(file, start, 4) != \"Exif\") {\n            if (debug) console.log(\"Not valid EXIF data! \" + getStringFromDB(file, start, 4));\n            return false;\n        }\n\n        var bigEnd,\n            tags, tag,\n            exifData, gpsData,\n            tiffOffset = start + 6;\n\n        // test for TIFF validity and endianness\n        if (file.getUint16(tiffOffset) == 0x4949) {\n            bigEnd = false;\n        } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n            bigEnd = true;\n        } else {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\");\n            return false;\n        }\n\n        if (file.getUint16(tiffOffset+2, !bigEnd) != 0x002A) {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x002A)\");\n            return false;\n        }\n\n        var firstIFDOffset = file.getUint32(tiffOffset+4, !bigEnd);\n\n        if (firstIFDOffset < 0x00000008) {\n            if (debug) console.log(\"Not valid TIFF data! (First offset less than 8)\", file.getUint32(tiffOffset+4, !bigEnd));\n            return false;\n        }\n\n        tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\n        if (tags.ExifIFDPointer) {\n            exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n            for (tag in exifData) {\n                switch (tag) {\n                    case \"LightSource\" :\n                    case \"Flash\" :\n                    case \"MeteringMode\" :\n                    case \"ExposureProgram\" :\n                    case \"SensingMethod\" :\n                    case \"SceneCaptureType\" :\n                    case \"SceneType\" :\n                    case \"CustomRendered\" :\n                    case \"WhiteBalance\" :\n                    case \"GainControl\" :\n                    case \"Contrast\" :\n                    case \"Saturation\" :\n                    case \"Sharpness\" :\n                    case \"SubjectDistanceRange\" :\n                    case \"FileSource\" :\n                        exifData[tag] = StringValues[tag][exifData[tag]];\n                        break;\n\n                    case \"ExifVersion\" :\n                    case \"FlashpixVersion\" :\n                        exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n                        break;\n\n                    case \"ComponentsConfiguration\" :\n                        exifData[tag] =\n                            StringValues.Components[exifData[tag][0]] +\n                            StringValues.Components[exifData[tag][1]] +\n                            StringValues.Components[exifData[tag][2]] +\n                            StringValues.Components[exifData[tag][3]];\n                        break;\n                }\n                tags[tag] = exifData[tag];\n            }\n        }\n\n        if (tags.GPSInfoIFDPointer) {\n            gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n            for (tag in gpsData) {\n                switch (tag) {\n                    case \"GPSVersionID\" :\n                        gpsData[tag] = gpsData[tag][0] +\n                            \".\" + gpsData[tag][1] +\n                            \".\" + gpsData[tag][2] +\n                            \".\" + gpsData[tag][3];\n                        break;\n                }\n                tags[tag] = gpsData[tag];\n            }\n        }\n\n        // extract thumbnail\n        tags['thumbnail'] = readThumbnailImage(file, tiffOffset, firstIFDOffset, bigEnd);\n\n        return tags;\n    }\n\n   function findXMPinJPEG(file) {\n\n        if (!('DOMParser' in self)) {\n            // console.warn('XML parsing not supported without DOMParser');\n            return;\n        }\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n           if (debug) console.log(\"Not a valid JPEG\");\n           return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength,\n            dom = new DOMParser();\n\n        while (offset < (length-4)) {\n            if (getStringFromDB(dataView, offset, 4) == \"http\") {\n                var startOffset = offset - 1;\n                var sectionLength = dataView.getUint16(offset - 2) - 1;\n                var xmpString = getStringFromDB(dataView, startOffset, sectionLength)\n                var xmpEndIndex = xmpString.indexOf('xmpmeta>') + 8;\n                xmpString = xmpString.substring( xmpString.indexOf( '<x:xmpmeta' ), xmpEndIndex );\n\n                var indexOfXmp = xmpString.indexOf('x:xmpmeta') + 10\n                //Many custom written programs embed xmp/xml without any namespace. Following are some of them.\n                //Without these namespaces, XML is thought to be invalid by parsers\n                xmpString = xmpString.slice(0, indexOfXmp)\n                            + 'xmlns:Iptc4xmpCore=\"http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/\" '\n                            + 'xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" '\n                            + 'xmlns:tiff=\"http://ns.adobe.com/tiff/1.0/\" '\n                            + 'xmlns:plus=\"http://schemas.android.com/apk/lib/com.google.android.gms.plus\" '\n                            + 'xmlns:ext=\"http://www.gettyimages.com/xsltExtension/1.0\" '\n                            + 'xmlns:exif=\"http://ns.adobe.com/exif/1.0/\" '\n                            + 'xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" '\n                            + 'xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\" '\n                            + 'xmlns:crs=\"http://ns.adobe.com/camera-raw-settings/1.0/\" '\n                            + 'xmlns:xapGImg=\"http://ns.adobe.com/xap/1.0/g/img/\" '\n                            + 'xmlns:Iptc4xmpExt=\"http://iptc.org/std/Iptc4xmpExt/2008-02-29/\" '\n                            + xmpString.slice(indexOfXmp)\n\n                var domDocument = dom.parseFromString( xmpString, 'text/xml' );\n                return xml2Object(domDocument);\n            } else{\n             offset++;\n            }\n        }\n    }\n\n    function xml2json(xml) {\n        var json = {};\n      \n        if (xml.nodeType == 1) { // element node\n          if (xml.attributes.length > 0) {\n            json['@attributes'] = {};\n            for (var j = 0; j < xml.attributes.length; j++) {\n              var attribute = xml.attributes.item(j);\n              json['@attributes'][attribute.nodeName] = attribute.nodeValue;\n            }\n          }\n        } else if (xml.nodeType == 3) { // text node\n          return xml.nodeValue;\n        }\n      \n        // deal with children\n        if (xml.hasChildNodes()) {\n          for(var i = 0; i < xml.childNodes.length; i++) {\n            var child = xml.childNodes.item(i);\n            var nodeName = child.nodeName;\n            if (json[nodeName] == null) {\n              json[nodeName] = xml2json(child);\n            } else {\n              if (json[nodeName].push == null) {\n                var old = json[nodeName];\n                json[nodeName] = [];\n                json[nodeName].push(old);\n              }\n              json[nodeName].push(xml2json(child));\n            }\n          }\n        }\n        \n        return json;\n    }\n\n    function xml2Object(xml) {\n        try {\n            var obj = {};\n            if (xml.children.length > 0) {\n              for (var i = 0; i < xml.children.length; i++) {\n                var item = xml.children.item(i);\n                var attributes = item.attributes;\n                for(var idx in attributes) {\n                    var itemAtt = attributes[idx];\n                    var dataKey = itemAtt.nodeName;\n                    var dataValue = itemAtt.nodeValue;\n\n                    if(dataKey !== undefined) {\n                        obj[dataKey] = dataValue;\n                    }\n                }\n                var nodeName = item.nodeName;\n\n                if (typeof (obj[nodeName]) == \"undefined\") {\n                  obj[nodeName] = xml2json(item);\n                } else {\n                  if (typeof (obj[nodeName].push) == \"undefined\") {\n                    var old = obj[nodeName];\n\n                    obj[nodeName] = [];\n                    obj[nodeName].push(old);\n                  }\n                  obj[nodeName].push(xml2json(item));\n                }\n              }\n            } else {\n              obj = xml.textContent;\n            }\n            return obj;\n          } catch (e) {\n              console.log(e.message);\n          }\n    }\n\n    EXIF.enableXmp = function() {\n        EXIF.isXmpEnabled = true;\n    }\n\n    EXIF.disableXmp = function() {\n        EXIF.isXmpEnabled = false;\n    }\n\n    EXIF.getData = function(img, callback) {\n        if (((self.Image && img instanceof self.Image)\n            || (self.HTMLImageElement && img instanceof self.HTMLImageElement))\n            && !img.complete)\n            return false;\n\n        if (!imageHasData(img)) {\n            getImageData(img, callback);\n        } else {\n            if (callback) {\n                callback.call(img);\n            }\n        }\n        return true;\n    }\n\n    EXIF.getTag = function(img, tag) {\n        if (!imageHasData(img)) return;\n        return img.exifdata[tag];\n    }\n    \n    EXIF.getIptcTag = function(img, tag) {\n        if (!imageHasData(img)) return;\n        return img.iptcdata[tag];\n    }\n\n    EXIF.getAllTags = function(img) {\n        if (!imageHasData(img)) return {};\n        var a,\n            data = img.exifdata,\n            tags = {};\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                tags[a] = data[a];\n            }\n        }\n        return tags;\n    }\n    \n    EXIF.getAllIptcTags = function(img) {\n        if (!imageHasData(img)) return {};\n        var a,\n            data = img.iptcdata,\n            tags = {};\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                tags[a] = data[a];\n            }\n        }\n        return tags;\n    }\n\n    EXIF.pretty = function(img) {\n        if (!imageHasData(img)) return \"\";\n        var a,\n            data = img.exifdata,\n            strPretty = \"\";\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                if (typeof data[a] == \"object\") {\n                    if (data[a] instanceof Number) {\n                        strPretty += a + \" : \" + data[a] + \" [\" + data[a].numerator + \"/\" + data[a].denominator + \"]\\r\\n\";\n                    } else {\n                        strPretty += a + \" : [\" + data[a].length + \" values]\\r\\n\";\n                    }\n                } else {\n                    strPretty += a + \" : \" + data[a] + \"\\r\\n\";\n                }\n            }\n        }\n        return strPretty;\n    }\n\n    EXIF.readFromBinaryFile = function(file) {\n        return findEXIFinJPEG(file);\n    }\n\n    if (typeof define === 'function' && define.amd) {\n        define('exif-js', [], function() {\n            return EXIF;\n        });\n    }\n}.call(this));\n\n","import {\r\n  getData,\r\n  getTag\r\n} from 'exif-js'\r\nconst http = /^(http|https):\\/\\//;\r\nconst fileImg = window.fileImg || {};\r\nconst pd = window.pd || {};\r\nconst baseUrl = \"https://bauma-h5.oss-cn-hangzhou.aliyuncs.com\";\r\nconst requireUrl = process.env.NODE_ENV !== 'production' ?  \"http://wechat.abcdefg.fun\" : \"https://wechat.peidikeji.cn\" //测试域名\r\nconst deBug = http.test(baseUrl);\r\nconst isOss = (oss, local) => {\r\n  return deBug ? oss : local\r\n}\r\n\r\nconst allImg = {\r\n  png_6: isOss(`${baseUrl}/images/6.png`, require('../images/6.png'), ),\r\n  png_b_xian: isOss(`${baseUrl}/images/b-xian.png`, require('../images/b-xian.png')),\r\n  png_back: isOss(`${baseUrl}/images/back.png`, require('../images/back.png')),\r\n  png_bofang: isOss(`${baseUrl}/images/bofang.png`, require('../images/bofang.png')),\r\n  jpg_chunse: isOss(`${baseUrl}/images/chunse-bg.jpg`, require('../images/chunse-bg.jpg')),\r\n  png_close: isOss(`${baseUrl}/images/close.png`, require('../images/close.png')),\r\n  png_down: isOss(`${baseUrl}/images/down.png`, require('../images/down.png')),\r\n  // gif_gif: isOss(`${baseUrl}/images/gif.gif`, require('../images/gif.gif')),\r\n  png_go2018: isOss(`${baseUrl}/images/go2018.png`, require('../images/go2018.png')),\r\n  png_logo: isOss(`${baseUrl}/images/logo.png`, require('../images/logo.png')),\r\n  png_page1_pic: isOss(`${baseUrl}/images/page1-pic.png`, require('../images/page1-pic.png')),\r\n  // jpg_page6_bg: isOss(`${baseUrl}/images/page6-bg.jpg`, require('../images/page6-bg.jpg')),\r\n  png_page6_button: isOss(`${baseUrl}/images/page6-button.png`, require('../images/page6-button.png')),\r\n  png_page7_cxsc: isOss(`${baseUrl}/images/page7-cxsc.png`, require('../images/page7-cxsc.png')),\r\n  png_page7_mrsc: isOss(`${baseUrl}/images/page7-mrsc.png`, require('../images/page7-mrsc.png')),\r\n  png_page7_qrsc: isOss(`${baseUrl}/images/page7-qrsc.png`, require('../images/page7-qrsc.png')),\r\n  png_photo: isOss(`${baseUrl}/images/photo.png`, require('../images/photo.png')),\r\n  // png_re_photo: isOss(`${baseUrl}/images/re-photo.png`, require('../images/re-photo.png')),\r\n  png_re_photo: require('../images/re-photo.png'),\r\n  png_scmxp: isOss(`${baseUrl}/images/scmxp.png`, require('../images/scmxp.png')),\r\n  jpg_simple: isOss(`${baseUrl}/images/simple-bg.jpg`, require('../images/simple-bg.jpg')),\r\n  png_tishi: isOss(`${baseUrl}/images/tishi.png`, require('../images/tishi.png')),\r\n  jpg_white: isOss(`${baseUrl}/images/white-bg.jpg`, require('../images/white-bg.jpg')),\r\n  jpg_zwzz: isOss(`${baseUrl}/images/zwzz.jpg`, require('../images/zwzz.jpg')),\r\n  // jpg_code: isOss(`${baseUrl}/images/code.jpg`, require('../images/code.jpg')),\r\n  jpg_code: require('../images/code.png'), //暂用本地图片\r\n  // png_sbCode: isOss(`${baseUrl}/images/sbCode.png`, require('../images/sbCode.png')),\r\n  // png_cnSave: isOss(`${baseUrl}/images/cnSave.png`, require('../images/cnSave.png')),\r\n  png_sbCode: require('../images/sbCode.png'),\r\n  png_cnSave: require('../images/cnSave.png'),\r\n  // jpg_mxb_bg: isOss(`${baseUrl}/images/mxp-bg.jpg`, require('../images/mxp-bg.jpg')),\r\n  jpg_mxb_bg: require('../images/mxp-bg.jpg'), //暂用本地图片\r\n  // png_2018: isOss(`${baseUrl}/images/2018.png`, require('../images/2018.png')),\r\n  png_2018: require('../images/2018.png'),\r\n  // png_2018_text: isOss(`${baseUrl}/images/2018-text-banner.png`, require('../images/2018-text-banner.png')),\r\n  png_2018_text: require('../images/2018-text-banner.png'),\r\n  png_fileimg_bg: isOss(`${baseUrl}/images/fileimg-bg.png`, require('../images/fileimg-bg.png')),\r\n\r\n}\r\n\r\nconst loadImg = Object.values(allImg);\r\nconst swiper = {\r\n  png_2002_small: isOss(`${baseUrl}/images/2002-small.png`, require('../images/2002-small.png')),\r\n  png_2002: isOss(`${baseUrl}/images/2002.png`, require('../images/2002.png')),\r\n  png_2004_small: isOss(`${baseUrl}/images/2004-small.png`, require('../images/2004-small.png')),\r\n  png_2004: isOss(`${baseUrl}/images/2004.png`, require('../images/2004.png')),\r\n  png_2006_small: isOss(`${baseUrl}/images/2006-small.png`, require('../images/2006-small.png')),\r\n  png_2006: isOss(`${baseUrl}/images/2006.png`, require('../images/2006.png')),\r\n  png_2008_small: isOss(`${baseUrl}/images/2008-small.png`, require('../images/2008-small.png')),\r\n  png_2008: isOss(`${baseUrl}/images/2008.png`, require('../images/2008.png')),\r\n  png_2010_small: isOss(`${baseUrl}/images/2010-small.png`, require('../images/2010-small.png')),\r\n  png_2010: isOss(`${baseUrl}/images/2010.png`, require('../images/2010.png')),\r\n  png_2012_small: isOss(`${baseUrl}/images/2012-small.png`, require('../images/2012-small.png')),\r\n  png_2012: isOss(`${baseUrl}/images/2012.png`, require('../images/2012.png')),\r\n  png_2014_small: isOss(`${baseUrl}/images/2014-small.png`, require('../images/2014-small.png')),\r\n  png_2014: isOss(`${baseUrl}/images/2014.png`, require('../images/2014.png')),\r\n  png_2016_small: isOss(`${baseUrl}/images/2016-small.png`, require('../images/2016-small.png')),\r\n  png_2016: isOss(`${baseUrl}/images/2016.png`, require('../images/2016.png')),\r\n  png_2018: isOss(`${baseUrl}/images/2018.png`, require('../images/2018.png')),\r\n}\r\nconst mxpBg = [{\r\n  banner: require('../images/2002-pic.jpg'),\r\n  text: require('../images/2002-text.png'),\r\n}, {\r\n  banner: require('../images/2004-pic.jpg'),\r\n  text: require('../images/2004-text.png'),\r\n}, {\r\n  banner: require('../images/2006-pic.jpg'),\r\n  text: require('../images/2006-text.png'),\r\n}, {\r\n  banner: require('../images/2008-pic.jpg'),\r\n  text: require('../images/2008-text.png'),\r\n}, {\r\n  banner: require('../images/2010-pic.jpg'),\r\n  text: require('../images/2010-text.png'),\r\n}, {\r\n  banner: require('../images/2012-pic.jpg'),\r\n  text: require('../images/2012-text.png'),\r\n}, {\r\n  banner: require('../images/2014-pic.jpg'),\r\n  text: require('../images/2014-text.png'),\r\n}, {\r\n  banner: require('../images/2016-pic.jpg'),\r\n  text: require('../images/2016-text.png'),\r\n}, {\r\n  banner: require('../images/2018-pic.jpg'),\r\n  text: require('../images/2018-text.png'),\r\n}]\r\nconst images = [{\r\n    pic: swiper.png_2002,\r\n    picSmall1: swiper.png_2002_small,\r\n    picSmall: swiper.png_2002,\r\n  }, {\r\n    pic: swiper.png_2004,\r\n    picSmall1: swiper.png_2004_small,\r\n    picSmall: swiper.png_2004\r\n  }, {\r\n    pic: swiper.png_2006,\r\n    picSmall1: swiper.png_2006_small,\r\n    picSmall: swiper.png_2006\r\n  },\r\n  {\r\n    pic: swiper.png_2008,\r\n    picSmall1: swiper.png_2008_small,\r\n    picSmall: swiper.png_2008\r\n  },\r\n  {\r\n    pic: swiper.png_2010,\r\n    picSmall1: swiper.png_2010_small,\r\n    picSmall: swiper.png_2010\r\n  },\r\n  {\r\n    pic: swiper.png_2012,\r\n    picSmall1: swiper.png_2012_small,\r\n    picSmall: swiper.png_2012\r\n  },\r\n  {\r\n    pic: swiper.png_2014,\r\n    picSmall1: swiper.png_2014_small,\r\n    picSmall: swiper.png_2014\r\n  },\r\n  {\r\n    pic: swiper.png_2016,\r\n    picSmall1: swiper.png_2016_small,\r\n    picSmall: swiper.png_2016\r\n  }\r\n]\r\nconst mxPic = [{\r\n    pic: allImg.jpg_zwzz,\r\n    year: \"2002\"\r\n  },\r\n  {\r\n    pic: allImg.jpg_zwzz,\r\n    year: \"2004\"\r\n  },\r\n  {\r\n    pic: allImg.jpg_zwzz,\r\n    year: \"2006\"\r\n  },\r\n  {\r\n    pic: allImg.jpg_zwzz,\r\n    year: \"2008\"\r\n  },\r\n  {\r\n    pic: allImg.jpg_zwzz,\r\n    year: \"2010\"\r\n  },\r\n  {\r\n    pic: allImg.jpg_zwzz,\r\n    year: \"2012\"\r\n  },\r\n  {\r\n    pic: allImg.jpg_zwzz,\r\n    year: \"2014\"\r\n  },\r\n  {\r\n    pic: allImg.jpg_zwzz,\r\n    year: \"2016\"\r\n  },\r\n]\r\nlet vm = null;\r\nwindow.vue = new Vue({\r\n  el: \"#app\",\r\n  data: function () {\r\n    return {\r\n      page: 0,\r\n      active: false,\r\n      images: images,\r\n      mxPic: mxPic,\r\n      mxData: {\r\n        pic: \"\",\r\n        year: \"\"\r\n      },\r\n      name: \"\",\r\n      scButton: allImg.png_scmxp,\r\n      index: 0,\r\n      nickname: \"\",\r\n      headimgurl: \"\",\r\n      re_photo1: allImg.png_re_photo,\r\n      re_photo: allImg.png_re_photo,\r\n      moren_pic: allImg.png_2018,\r\n      control: true,\r\n      scPic: mxpBg,\r\n      yearText: \"\",\r\n      canShow: false,\r\n      initCanvas: \"\",\r\n      tishiShow: false,\r\n      token: \"\"\r\n    }\r\n  },\r\n  app: null,\r\n  computed: {\r\n    num() {\r\n      var _num = 0\r\n      this.mxPic.map((item) => {\r\n        if (item.pic != allImg.jpg_zwzz) {\r\n          _num++\r\n        }\r\n      })\r\n      return _num\r\n    },\r\n  },\r\n  created() {\r\n    // 获取个人信息\r\n    vm = this\r\n    this.loadImg()\r\n    pd.loading(loadImg, m => {\r\n\r\n    })\r\n    // this.page = 0;\r\n    var that = this;\r\n    localforage.getItem(\"token\").then(function (e) {\r\n      that.token = e;\r\n      $.ajax({\r\n        type: \"GET\",\r\n        url:  requireUrl + \"/api/user?upload_avatar_oss=1\",\r\n        headers: {\r\n          Authorization: e,\r\n          Accept: \"application/json\"\r\n        },\r\n        data: {},\r\n        dataType: \"json\",\r\n        success: function (data) {\r\n          that.nickname = data.data.nickname\r\n          that.headimgurl = data.data.avatar_oss\r\n        },\r\n        error: function (err) {\r\n\r\n        }\r\n      })\r\n    })\r\n    var that = this;\r\n    localforage.getItem(\"tishi\").then(function (e) {\r\n      if (e) {\r\n        that.tishiShow = true;\r\n      } else {\r\n        that.tishiShow = false\r\n      }\r\n    }).catch(function (e) {})\r\n    // loading\r\n\r\n  },\r\n  methods: {\r\n    // vue 手指事件\r\n    loadImg() {\r\n      var i = 0;\r\n      var timer = setInterval(function () {\r\n        i++\r\n        if (i == 12) {\r\n          clearInterval(timer);\r\n          $(\".page0\").hide();\r\n          $(\".page1\").show();\r\n        }\r\n      }, 1000)\r\n    },\r\n    // 图片上传\r\n    changeImg(e) {\r\n      const that = this;\r\n      that.canShow = true;\r\n      let files = e.target.files;\r\n      let orientation = 0\r\n      let file = files[0];\r\n      // 清除历史canvas\r\n      if (that.app) {\r\n        that.app.destroy();\r\n        that.app = null;\r\n      }\r\n      $('.photo canvas').remove();\r\n      layer.open({\r\n        type: 2,\r\n        content: '图片压缩中,请稍后...',\r\n        shadeClose: false\r\n      });\r\n      // 获取图片信息\r\n      getData(file, function () {\r\n        orientation = getTag(this, 'Orientation')\r\n      })\r\n      // 压缩图片\r\n      let reader = new FileReader();\r\n      let compression = new PIXI.Application(100, 100, {\r\n        forceCanvas: true,\r\n      })\r\n      // 加载图片\r\n      reader.onload = function (e) {\r\n        that.re_photo = e.target.result;\r\n        that.createSprite(e.target.result)\r\n          .then(_sprite => {\r\n            if (orientation === 6) {\r\n              // 改变宽度\r\n              let\r\n                width = 675,\r\n                height = _sprite.width / (_sprite.height / width);\r\n              compression.renderer.autoResize = true;\r\n              compression.renderer.resize(width, height)\r\n              _sprite.anchor.set(.5)\r\n              _sprite.rotation = Math.PI / 2\r\n              _sprite.position.set(width / 2, height / 2)\r\n              _sprite.width = height\r\n              _sprite.height = width\r\n              compression.stage.addChild(_sprite)\r\n            } else {\r\n              let\r\n                width = 675,\r\n                height = _sprite.height / (_sprite.width / width);\r\n              compression.renderer.autoResize = true;\r\n              compression.renderer.resize(width, height)\r\n              _sprite.width = width\r\n              _sprite.height = height\r\n              compression.stage.addChild(_sprite)\r\n            }\r\n            setTimeout(() => {\r\n              let _url = compression.view.toDataURL('image/jpeg', .8);\r\n              layer.closeAll()\r\n              that._pixiCanvas(_url);\r\n            }, 500)\r\n          })\r\n      };\r\n      reader.readAsDataURL(file);\r\n      // 清理input值\r\n      e.target.value = \"\"\r\n    },\r\n    // canvas拖拽\r\n    _pixiCanvas(url) {\r\n      const that = this;\r\n      // var w = $(\".page7 .photo\").width();\r\n      // var h = $(\".page7 .photo\").height();\r\n      let app = new PIXI.Application(337, 277, {\r\n        forceCanvas: true,\r\n        backgroundColor: 0xE5E5E5\r\n      })\r\n      that.app = app;\r\n      $('#clipArea').append(app.view);\r\n      that.createSprite(url)\r\n        .then(_sprite => {\r\n          app.stage.addChild(_sprite)\r\n          // document.body.appendChild(app.view) \r\n          _sprite.interactive = true;\r\n          _sprite.anchor.set(.5);\r\n          _sprite\r\n            .on('touchstart', function (event) {\r\n              this.dragging = true;\r\n              this.active = false;\r\n              this.data = event.data;\r\n              this.start = [];\r\n              this.dragPoint = event.data.getLocalPosition(this.parent);\r\n              this.dragPoint.x -= this.x;\r\n              this.dragPoint.y -= this.y;\r\n            })\r\n            .on('touchmove', function (e) {\r\n              const touchs = e.data.originalEvent.changedTouches\r\n              // 缩放\r\n              if (this.dragging && touchs.length === 2) {\r\n                if (!this.active) {\r\n                  this.start = touchs;\r\n                  this.active = true;\r\n                  return;\r\n                }\r\n                let _start = {\r\n                  x: this.start[1].pageX - this.start[0].pageX,\r\n                  y: this.start[1].pageY - this.start[0].pageY,\r\n                }\r\n                let _now = {\r\n                  x: touchs[1].pageX - touchs[0].pageX,\r\n                  y: touchs[1].pageY - touchs[0].pageY,\r\n                }\r\n                let __scale = Math.abs(_now.x / _start.x).toFixed(2)\r\n                this.scale.set(__scale)\r\n              }\r\n              // 拖拽\r\n              if (this.dragging && touchs.length === 1) {\r\n                let newPosition = this.data.getLocalPosition(this.parent);\r\n                this.x = newPosition.x - this.dragPoint.x;\r\n                this.y = newPosition.y - this.dragPoint.y;\r\n              }\r\n            })\r\n            .on('touchend', function () {\r\n              this.dragging = false;\r\n              this.data = null;\r\n              this.start = [];\r\n              this.active = false;\r\n              this._scale = this.scale.x\r\n            })\r\n            .on('touchendoutside', function () {\r\n              this.dragging = false;\r\n              this.data = null;\r\n              this.start = [];\r\n              this.active = false;\r\n              this._scale = this.scale.x\r\n            })\r\n        })\r\n    },\r\n    // 导出图片\r\n    tobase64() {\r\n      const that = this;\r\n      if (that.re_photo == that.re_photo1) return false;\r\n      layer.open({\r\n        type: 2,\r\n        content: '图片合成中,请稍后...',\r\n        shadeClose: false\r\n      });\r\n      // 输出拖拽后的图片\r\n      // document.write(`<img src=\"${url}\">`)\r\n      if (that.re_photo == that.moren_pic) {\r\n        that.index = 8;\r\n        that.yearText = that.scPic[that.index].text;\r\n        $(\".page7\").hide();\r\n        $(\".page8\").show();\r\n        that.re_photo = that.moren_pic;\r\n        layer.closeAll()\r\n      } else {\r\n        setTimeout(() => {\r\n          let url = that.app.view.toDataURL('image/jpeg', .8);\r\n          vm.index = 8;\r\n          vm.re_photo = url;\r\n          vm.yearText = vm.scPic[vm.index].text;\r\n          $(\".page7\").hide();\r\n          $(\".page8\").show();\r\n          that.app.destroy();\r\n          that.app = null;\r\n          $('#clipArea canvas').remove();\r\n          layer.closeAll()\r\n        }, 500)\r\n      }\r\n    },\r\n    vuetouch: function (s, e) {\r\n      if (s.name == \"上滑\") {\r\n        $(\".page1 .move\").animate({\r\n          marginTop: \"-\" + $(\".page1 .move\").height() + \"px\"\r\n        }, 800)\r\n      }\r\n      // this.name = s.name;\r\n    },\r\n    // page1Show() {\r\n    //   // this.page = 1\r\n    //   $(\".page0\").hide();\r\n    //   $(\".page1\").show();\r\n    // },\r\n    page2Show() {\r\n      // this.page = 2;\r\n      $(\".page1 .move\").animate({\r\n        marginTop: \"-\" + $(\".page1 .move\").height() + \"px\"\r\n      }, 800)\r\n    },\r\n    page3Show() {\r\n      // this.page = 3;\r\n      $(\".page2\").hide();\r\n      $(\".page3\").show();\r\n    },\r\n    page6Show() {\r\n      // this.page = 6;\r\n      $(\".page2\").hide();\r\n      $(\".page6\").show();\r\n      this.re_photo = allImg.png_re_photo;\r\n    },\r\n    page7Show() {\r\n      var video = document.getElementById(\"video\");\r\n      video.pause();\r\n      // this.page = 7;\r\n      $(\".page6\").hide();\r\n      $(\".page7\").show();\r\n      var that = this;\r\n      this.control = true;\r\n      var w = $(\".page7 .photo\").width();\r\n      var h = $(\".page7 .photo\").height();\r\n    },\r\n    backPage2() {\r\n      // this.page = 1\r\n      $(\".page3\").hide();\r\n      $(\".page1\").show();\r\n      $(\".page2\").show();\r\n    },\r\n    backPage3() {\r\n      // this.page = 3\r\n      $(\".page4\").hide();\r\n      $(\".page3\").show();\r\n    },\r\n    backPage4() {\r\n      if (this.index == 8) {\r\n        // this.page = 6\r\n        $(\".page5\").hide();\r\n        $(\".page6\").show();\r\n        this.re_photo = allImg.png_re_photo;\r\n        this.canShow = false;\r\n      } else {\r\n        // this.page = 3\r\n        $(\".page5\").hide();\r\n        $(\".page3\").show();\r\n      }\r\n    },\r\n    backPage6() {\r\n      // this.page = 6;\r\n      $(\".page7\").hide();\r\n      $(\".page6\").show();\r\n      $(\".filePic\").val(\"\");\r\n      this.re_photo = allImg.png_re_photo;\r\n      this.canShow = false;\r\n    },\r\n    backPage7() {\r\n      // this.page = 7;\r\n      $(\".page8\").hide();\r\n      $(\".page7\").show();\r\n    },\r\n    // 照片闪白光\r\n    showLight(index) {\r\n      this.active = true;\r\n      this.mxPic[index].pic = this.images[index].picSmall1;\r\n      setTimeout(() => {\r\n        this.active = false;\r\n      }, 1000)\r\n    },\r\n    // page4\r\n    generateMx(index) {\r\n      if (this.mxPic[index].pic == allImg.jpg_zwzz) return false;\r\n      this.mxData.pic = this.mxPic[index].pic;\r\n      this.mxData.year = this.mxPic[index].year;\r\n      this.index = index\r\n      this.re_photo = this.scPic[this.index].banner\r\n      this.yearText = this.scPic[this.index].text\r\n      // this.page = 4\r\n      $(\".page3\").hide();\r\n      $(\".page4\").show();\r\n    },\r\n    // pixiJS合成图片\r\n    createSprite(name) {\r\n      return new Promise(function (res, rej) {\r\n        let _spriter = new PIXI.Sprite.fromImage(name);\r\n        if (_spriter.texture.baseTexture.hasLoaded) {\r\n          res(_spriter)\r\n        } else {\r\n          _spriter.texture.baseTexture.on(\"loaded\", function () {\r\n            res(_spriter)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    getCanvas() {\r\n      const that = this;\r\n      if (that.index == 8 && that.re_photo != that.moren_pic) {\r\n        _czc.push(['_trackEvent', \"自定义上传\", 1, 'click']);\r\n      } else if (that.index == 8 && that.re_photo == that.moren_pic) {\r\n        _czc.push(['_trackEvent', \"2018\", 1, 'click']);\r\n      } else {\r\n        _czc.push(['_trackEvent', that.mxPic[that.index].year, 1, 'click']);\r\n      }\r\n      var _loading = layer.open({\r\n        type: 2,\r\n        content: '生成中...',\r\n        shadeClose: false\r\n      });\r\n      const width = 750;\r\n      const height = 1334;\r\n      var pixiRender = new PIXI.Application(width, height, {\r\n        forceCanvas: true,\r\n      });\r\n      pixiRender.stage.removeChildren();\r\n      var text;\r\n      that.createSprite(allImg.jpg_mxb_bg).then((_sprite) => {\r\n          _sprite.width = width;\r\n          _sprite.height = height;\r\n          pixiRender.stage.addChild(_sprite);\r\n          return that.createSprite(that.re_photo);\r\n        })\r\n        .then((_sprite) => {\r\n          // banner\r\n          let _box = new PIXI.Container();\r\n          _box.width = 675\r\n          _box.height = 555\r\n          _box.position.set(38, 198)\r\n          _box.addChild(_sprite)\r\n          _sprite.position.set((_sprite.width - _box.width) / 2, (_sprite.height - _box.height) / 2)\r\n          _sprite.width = 675\r\n          _sprite.height = 555\r\n          if (that.index == 8) {\r\n            that.createSprite(allImg.png_2018_text).then((_sprite) => {\r\n              _sprite.width = 486;\r\n              _sprite.height = 66;\r\n              _sprite.position.set(180, 480);\r\n              _box.addChild(_sprite)\r\n            })\r\n          }\r\n          pixiRender.stage.addChild(_box);\r\n          return that.createSprite(that.headimgurl);\r\n        })\r\n        .then((_sprite) => {\r\n          // 用户头像\r\n          _sprite.width = 90;\r\n          _sprite.height = 90;\r\n          _sprite.x = 548;\r\n          _sprite.y = 1026;\r\n          pixiRender.stage.addChild(_sprite);\r\n          var textSample = new PIXI.Text(that.name, {\r\n            fontSize: '30px',\r\n            fill: 'black',\r\n            align: 'center'\r\n          });\r\n          textSample.position.set(120, 810)\r\n          pixiRender.stage.addChild(textSample);\r\n          console.log(that.yearText)\r\n          return that.createSprite(that.yearText);\r\n        })\r\n        .then((_sprite) => {\r\n          // 文字描述\r\n          _sprite.width = 510;\r\n          _sprite.height = 258;\r\n          _sprite.position.set(28, 876)\r\n          pixiRender.stage.addChild(_sprite);\r\n          return that.createSprite(allImg.jpg_code);\r\n        })\r\n        .then((_sprite) => {\r\n          // 二维码\\\r\n          _sprite.width = 134;\r\n          _sprite.height = 134;\r\n          _sprite.position.set(70, 1124)\r\n          pixiRender.stage.addChild(_sprite);\r\n          return that.createSprite(allImg.png_cnSave);\r\n        })\r\n        .then((_sprite) => {\r\n          // 文字\r\n          text = _sprite;\r\n          text.width = 186;\r\n          text.height = 28;\r\n          text.position.set(208, 1206)\r\n          pixiRender.stage.addChild(_sprite);\r\n          // $(\"#box\").append(pixiRender.view)\r\n          setTimeout(function () {\r\n            var url1 = pixiRender.view.toDataURL(\"images/jepg\", .8)\r\n            $(\"#show-pic\").attr('src', url1);\r\n            // that.name = \"\";\r\n          }, 200)\r\n          setTimeout(function () {\r\n            // 改变背景图片为保存图片\r\n            text.texture = PIXI.Texture.fromImage(allImg.png_sbCode);\r\n            text.width = 170;\r\n            text.height = 56;\r\n            text.y = 1190;\r\n            // if (text.texture.baseTexture.hasLoaded) {\r\n            setTimeout(function () {\r\n              var url = pixiRender.view.toDataURL(\"images/jepg\", .8)\r\n              $(\"#cancas-pic\").attr('src', url);\r\n              layer.close(_loading);\r\n              // that.page = 5;\r\n              $(\".page4\").hide();\r\n              $(\".page8\").hide();\r\n              $(\".page5\").show();\r\n              that.name = \"\";\r\n            }, 1000)\r\n            // pixiRender.stage.removeChildren();\r\n            // }\r\n          }, 500)\r\n        })\r\n    },\r\n    // 生成明信片\r\n    page5Show() {\r\n      if (this.name == \"\") return false;\r\n      if (this.index == 8 && this.re_photo != this.moren_pic) {\r\n        $.ajax({\r\n          type: \"POST\",\r\n          // /message\r\n          url:  requireUrl + \"/api/user?upload_avatar_oss=1\",\r\n          headers: {\r\n            Authorization: this.token,\r\n            Accept: \"application/json\"\r\n          },\r\n          data: {\r\n            file: this.re_photo\r\n          },\r\n          dataType: \"json\",\r\n          success: function (data) {},\r\n          error: function (err) {}\r\n        })\r\n      }\r\n      this.getCanvas();\r\n    },\r\n    // 上传图片\r\n    // fileImgAll(e) {\r\n    //   var that = this;\r\n    //   if (e.target.files.length == 0) return false;\r\n    //   var _loading = layer.open({\r\n    //     type: 2,\r\n    //     content: '上传中...',\r\n    //     shadeClose: false\r\n    //   });\r\n    //   var f;\r\n    //   fileImg(e, r => {\r\n    //     if (r) layer.close(_loading);\r\n    //     vm.canShow = true;\r\n    //     that.re_photo = r;\r\n    //     $(\"#dropImg\").attr(\"src\", r)\r\n    //   })\r\n    // },\r\n    getDistance(p1, p2) {\r\n      var x = p2.pageX - p1.pageX,\r\n        y = p2.pageY - p1.pageY;\r\n      return Math.sqrt((x * x) + (y * y));\r\n    },\r\n    getAngle(p1, p2) {\r\n      var x = p1.pageX - p2.pageX,\r\n        y = p1.pageY - p2.pageY;\r\n      return Math.atan2(y, x) * 180 / Math.PI;\r\n    },\r\n    // 点击默认图片\r\n    moren() {\r\n      this.re_photo = this.moren_pic;\r\n      this.index = 8;\r\n      this.canShow = false;\r\n    },\r\n    // 播放视频\r\n    bofang() {\r\n      var video = document.getElementById(\"video\");\r\n      video.play();\r\n      // 开始播放\r\n      video.addEventListener(\"play\", function () {\r\n        vm.control = false;\r\n        // video.setAttribute(\"x5-video-orientation\", \"landscape\")\r\n      })\r\n      // 进入全屏\r\n      video.addEventListener(\"x5videoenterfullscreen\", function () {\r\n        $(\".video-box\").addClass(\"active\");\r\n      });\r\n      // 手动退出全屏\r\n      video.addEventListener(\"x5videoexitfullscreen\", function () {\r\n        vm.control = true\r\n        video.pause();\r\n        $(\".video-box\").removeClass(\"active\");\r\n      });\r\n      video.addEventListener(\"ended\", function () {\r\n        // $(\"#video\").removeClass(\"active\");\r\n        // video.setAttribute(\"x5-video-orientation\", \"portraint\");\r\n        // $(\"#video\").removeAttr(\"x5-video-player-fullscreen\");\r\n        // window.history.back();\r\n        // video.pause();\r\n      })\r\n    }\r\n  }\r\n})"]}